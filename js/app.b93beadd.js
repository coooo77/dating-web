(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var o=a[r];0!==n[o]&&(s=!1)}s&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},r={app:0},n={app:0},i=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-004c6e62":"a25d8741","chunk-2342325e":"b98fbedf","chunk-2d0e5e97":"660bf73f"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-004c6e62":1,"chunk-2342325e":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var s="css/"+({}[t]||t)+"."+{"chunk-004c6e62":"ac74cc44","chunk-2342325e":"339ff35a","chunk-2d0e5e97":"31d6cfe0"}[t]+".css",n=c.p+s,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===n))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===s||u===n)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var s=e&&e.target&&e.target.src||n,i=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete r[t],f.parentNode.removeChild(f),a(i)},f.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[t]=0})));var s=n[t];if(0!==s)if(s)e.push(s[2]);else{var i=new Promise((function(e,a){s=n[t]=[e,a]}));e.push(s[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var a=n[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",d.name="ChunkLoadError",d.type=s,d.request=r,a[1](d)}n[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/dating-web/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),r=a.n(s);r.a},"03f5":function(t,e,a){},"1c61":function(t,e,a){},2224:function(t,e,a){},2239:function(t,e,a){},2375:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"bouncing-loader"},[a("div"),a("div"),a("div")])])}],n=(a("a895"),a("2877")),i={},o=Object(n["a"])(i,s,r,!1,null,"cb8dad60",null);e["a"]=o.exports},2708:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return r}));a("4160"),a("159b");var s={methods:{afterChangeLiked:function(t){this.users.forEach((function(e){e.id===t&&(e.isLiked=!e.isLiked)}))}}},r={methods:{afterClickUser:function(t){this.$emit("passUserToModal",t)}}}},2957:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6 col-lg-4 col-xl-3 mb-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"like",on:{click:function(e){return t.changeLike(t.user)}}},[t.user.isLiked?a("i",{staticClass:"fas fa-heart"}):a("i",{staticClass:"far fa-heart"})]),a("img",{staticClass:"card-img-top",attrs:{src:t.getRandomPhoto(t.user.id),alt:"Card image cap"}}),a("div",{staticClass:"card-body",attrs:{"data-toggle":"modal","data-target":"#modal"},on:{click:function(e){return t.clickUser(t.user)}}},[a("img",{staticClass:"avatar",attrs:{src:t.user.picture.large,alt:""}}),a("h5",{staticClass:"card-title"},[t._v(" "+t._s(t.user.name)+" "),"female"===t.user.gender?a("i",{staticClass:"fas fa-venus text-danger"}):a("i",{staticClass:"fas fa-mars text-primary"})]),a("p",{staticClass:"card-text"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vitae enim sapien. Nam porta risus sem, sit amet pharetra justo vestibulum id. Nulla in eleifend urna, at porta tellus.")])])])])},r=[],n=(a("caad"),a("c975"),a("a434"),a("2532"),a("99af"),350),i=100;function o(t){return"https://picsum.photos/".concat(n,"/").concat(i,"?random=").concat(t)}var c=o,l={props:{user:{type:Object,required:!0}},methods:{changeLike:function(t){var e=JSON.parse(sessionStorage.getItem("like"));e.includes(t.id)?e.splice(e.indexOf(t.id),1):e.push(t.id),sessionStorage.setItem("like",JSON.stringify(e)),this.$emit("afterChangeLiked",t.id)},clickUser:function(t){this.$emit("afterClickUser",t)},getRandomPhoto:c}},u=l,d=(a("c1a6"),a("2877")),f=Object(d["a"])(u,s,r,!1,null,"0f27a20e",null);e["a"]=f.exports},"415e":function(t,e,a){"use strict";var s=a("2239"),r=a.n(s);r.a},"4cce":function(t,e,a){"use strict";var s=a("c968");e["a"]={get120Users:function(){return s["b"].get("/?seed=dating&inc=gender,name,location,email,picture,dob&results=120")},get12Users:function(t){var e=t.page;return s["b"].get("/?seed=dating&inc=gender,name,location,email,picture,dob&results=12&page=".concat(e))}}},"4e6b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"observer"})},r=[],n=a("3835"),i={data:function(){return{observer:null}},mounted:function(){var t=this;this.observer=new IntersectionObserver((function(e){var a=Object(n["a"])(e,1),s=a[0];s&&s.isIntersecting&&t.$emit("intersect",[t.observer,t.$el])})),this.observer.observe(this.$el)},name:"observer"},o=i,c=(a("c032"),a("2877")),l=Object(c["a"])(o,s,r,!1,null,"30d779ae",null);e["a"]=l.exports},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Navbar",{attrs:{themeMap:t.themeMap}}),a("main",[a("router-view",{on:{passUserToModal:t.passUserToModal}})],1),a("BackToTopBtn"),a("Modal",{attrs:{modalUser:t.modalUser}})],1)},n=[],i=(a("b64b"),a("4989"),a("ab8b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar"},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"logo"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[a("span",{staticClass:"link-text logo-text"},[t._v("DATING WEBSITE")]),a("i",{staticClass:"fas fa-angle-double-right"})])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[a("i",{staticClass:"fas fa-home"}),a("span",{staticClass:"link-text"},[t._v("首頁")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/search"}},[a("i",{staticClass:"fas fa-search"}),a("span",{staticClass:"link-text"},[t._v("搜尋")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/favorite"}},[a("i",{staticClass:"fas fa-kiss-wink-heart"}),a("span",{staticClass:"link-text"},[t._v("最愛")])])],1),a("li",{staticClass:"nav-item",on:{click:t.changeMode}},[t._m(0)])])])}),o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("i",{staticClass:"fas fa-moon theme-icon",attrs:{id:"moon"}}),a("i",{staticClass:"fas fa-sun theme-icon",attrs:{id:"sun"}}),a("span",{staticClass:"link-text"},[t._v("模式")])])}],c=(a("ac1f"),a("5319"),{props:{themeMap:{type:Object,required:!0}},methods:{changeMode:function(){var t=sessionStorage.getItem("theme"),e=this.themeMap[t],a=document.body.classList;a.replace(t,e),sessionStorage.setItem("theme",e)}}}),l=c,u=(a("ac1c"),a("2877")),d=Object(u["a"])(l,i,o,!1,null,"4c90cbbc",null),f=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true",id:"modal"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-info text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"modal-title"}},[t._v(t._s(t.modalUser.name))]),t._m(0)]),a("div",{staticClass:"modal-body",attrs:{id:"modal-body"}},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-sm-12 col-md-6 text-center"},[a("img",{staticClass:"img-fluid rounded-circle",attrs:{src:t.modalUser.picture.large}}),a("h3",[t._v(" "+t._s(t.modalUser.name)+" "),a("span",["female"===t.modalUser.gender?a("i",{staticClass:"fas fa-venus text-danger"}):a("i",{staticClass:"fas fa-mars text-primary"})])])]),a("div",{staticClass:"col-sm-12 col-md-6"},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[a("i",{staticClass:"fas fa-birthday-cake text-info"}),t._v(" "+t._s(t.modalUser.dob.date)+" ("+t._s(t.modalUser.dob.age)+"歲) ")]),a("li",{staticClass:"list-group-item"},[a("i",{staticClass:"fas fa-envelope text-info"}),t._v(" "+t._s(t.modalUser.email)+" ")]),a("li",{staticClass:"list-group-item"},[a("i",{staticClass:"fas fa-map-marker-alt text-info"}),t._v(" "+t._s(t.modalUser.location.city)+" ")]),t._m(1),t._m(2)])])])]),t._m(3)])])])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"list-group-item"},[a("span",{staticClass:"font-weight-bold"},[t._v("Join From")]),t._v(" Wed Sep 09 2020 04:08:24 GMT+0800 (台北標準時間) ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"list-group-item"},[a("span",{staticClass:"font-weight-bold"},[t._v("Latest Update Time is")]),t._v(" Wed Sep 09 2020 04:08:24 GMT+0800 (台北標準時間) ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],h={name:"componentsModal",props:{modalUser:{type:Object,required:!0}}},v=h,b=Object(u["a"])(v,m,p,!1,null,null,null),g=b.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"back-top",on:{click:function(e){return e.preventDefault(),t.scrollToTop(e)}}},[a("i",{staticClass:"far fa-arrow-alt-circle-up"})])},_=[],k=a("1157"),w=a.n(k),y={methods:{scrollToTop:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}},mounted:function(){w()(window).scroll((function(){w()(window).scrollTop()>=500?w()(".back-top").fadeIn():w()(".back-top").fadeOut()}))}},x=y,O=(a("9c75"),Object(u["a"])(x,C,_,!1,null,"23af2e64",null)),j=O.exports,U={components:{Navbar:f,Modal:g,BackToTopBtn:j},created:function(){var t=JSON.parse(sessionStorage.getItem("like"));t||sessionStorage.setItem("like","[]");var e=this.themeMap,a=sessionStorage.getItem("theme")||(sessionStorage.setItem("theme",Object.keys(e)[0]),Object.keys(e)[0]),s=document.body.classList;s.add(a)},data:function(){return{modalUser:{isLiked:!1,id:-1,gender:"",name:{title:"",first:"",last:""},location:{street:{number:-1,name:""},city:"",state:"",country:"",postcode:-1,coordinates:{latitude:"",longitude:""},timezone:{offset:"",description:""}},email:"",picture:{large:"",medium:"",thumbnail:""},dob:{date:"",age:-1}},themeMap:{dark:"light",light:"dark"}}},methods:{passUserToModal:function(t){this.modalUser=t}}},L=U,E=(a("034f"),Object(u["a"])(L,r,n,!1,null,null,null)),S=E.exports,T=(a("d3b7"),a("8c4f")),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("Jumbotron"),a("div",{staticClass:"container mt-5"},[a("div",{staticClass:"users row mt-5"},t._l(t.users,(function(e){return a("UserCard",{key:e.id,attrs:{user:e},on:{afterChangeLiked:t.afterChangeLiked,afterClickUser:t.afterClickUser}})})),1),t.isLoading?a("Spinner"):t._e(),t.isAllLoaded?a("Alert",{attrs:{wrong:t.wrong}}):t._e(),a("Observer",{attrs:{isAllLoaded:t.isAllLoaded},on:{intersect:t.intersected}})],1)],1)},M=[],A=(a("caad"),a("a15b"),a("d81d"),a("a434"),a("b0c0"),a("07ac"),a("2532"),a("3ca3"),a("ddb0"),a("3835")),I=a("2909"),P=a("5530"),N=(a("96cf"),a("1da1")),B=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jumbotron jumbotron-fluid mb-5 pt-5 pb-1"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"display-4"},[t._v("Meeting Friends And Improve Your Life.")]),a("p",{staticClass:"lead"},[t._v("this is a simulate website just for practise.")])])])}],R=(a("415e"),{}),q=Object(u["a"])(R,B,J,!1,null,"4f12e5bf",null),D=q.exports,F=a("98ab"),G=a("2375"),W=a("4e6b"),X=a("2957"),Y=a("4cce"),z=a("2708"),H=a("c968"),K={created:function(){this.fetchAllUsers()},data:function(){return{users:[],initialUsers:[],offset:12,currentPage:0,isAllLoaded:!1,isLoading:!1,wrong:{strong:"已經到頁底!",text:"所有使用者已經顯示完畢。"}}},components:{UserCard:X["a"],Observer:W["a"],Spinner:G["a"],Alert:F["a"],Jumbotron:D},methods:{fetchAllUsers:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(regeneratorRuntime.mark((function e(){var a,s,r,n,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isLoading=!0,a=JSON.parse(sessionStorage.getItem("like"));case 2:if(0!==t.initialUsers.length){e.next=17;break}return e.next=5,Y["a"].get120Users();case 5:if(r=e.sent,n=r.data,i=r.status,o=r.statusText,200===i){e.next=11;break}throw new Error(o);case 11:t.initialUsers=n.results.map((function(t,e){return Object(P["a"])(Object(P["a"])({},t),{},{id:e+1,name:Object.values(t.name).splice(1,2).join(" "),isLiked:a.includes(e+1)})})),c=t.initialUsers.splice(0,t.offset),(s=t.users).push.apply(s,Object(I["a"])(c)),t.isLoading=!1,e.next=2;break;case 17:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=8;break;case 4:e.prev=4,e.t1=e["catch"](0),console.error(e.t1),H["a"].fire({icon:"error",title:"伺服器忙碌中，請稍後再試"});case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))()},fetchUser:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.currentPage+1!==10){e.next=5;break}return t.isAllLoaded=!0,t.isLoading=!1,e.abrupt("return");case 5:s=t.initialUsers.splice(0,t.offset),(a=t.users).push.apply(a,Object(I["a"])(s)),t.isLoading=!1,e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](0),t.isLoading=!1,console.error,H["a"].fire({icon:"error",title:"伺服器忙碌中，請稍後再試"});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()},intersected:function(t){var e=this,a=Object(A["a"])(t,2),s=a[0],r=a[1];console.log("current page：".concat(++this.currentPage)),this.isAllLoaded?s.unobserve(r):(this.isLoading=!0,setTimeout((function(){e.fetchUser()}),500))}},mixins:[z["b"],z["a"]],name:"View-Users"},Q=K,V=Object(u["a"])(Q,$,M,!1,null,null,null),Z=V.exports;s["a"].use(T["a"]);var tt=[{path:"/",name:"root",redirect:"users"},{path:"/users",name:"users",component:Z},{path:"/favorite",name:"favorite",component:function(){return a.e("chunk-004c6e62").then(a.bind(null,"a09f"))}},{path:"/Search",name:"Search",component:function(){return a.e("chunk-2342325e").then(a.bind(null,"2d3b"))}},{path:"*",name:"not-found",component:function(){return a.e("chunk-2d0e5e97").then(a.bind(null,"9703"))}}],et=new T["a"]({routes:tt}),at=et;window.$=window.jQuery=w.a,s["a"].config.productionTip=!1,new s["a"]({router:at,render:function(t){return t(S)}}).$mount("#app")},"85ec":function(t,e,a){},"98ab":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-info alert-dismissible fade show",attrs:{role:"alert"}},[a("strong",[t._v(t._s(t.wrong.strong)+"!")]),t._v(" "+t._s(t.wrong.text)+" "),t.showXBtn?a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e()])},r=[],n={props:{wrong:{type:Object,require:!0},showXBtn:{type:Boolean,default:!0}}},i=n,o=a("2877"),c=Object(o["a"])(i,s,r,!1,null,null,null);e["a"]=c.exports},"9c75":function(t,e,a){"use strict";var s=a("03f5"),r=a.n(s);r.a},a895:function(t,e,a){"use strict";var s=a("ca81"),r=a.n(s);r.a},ac1c:function(t,e,a){"use strict";var s=a("2224"),r=a.n(s);r.a},b944:function(t,e,a){},c032:function(t,e,a){"use strict";var s=a("b944"),r=a.n(s);r.a},c1a6:function(t,e,a){"use strict";var s=a("1c61"),r=a.n(s);r.a},c968:function(t,e,a){"use strict";a.d(e,"b",(function(){return c})),a.d(e,"a",(function(){return l}));var s=a("bc3a"),r=a.n(s),n=a("3d20"),i=a.n(n),o="https://randomuser.me/api",c=r.a.create({baseURL:o}),l=i.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},ca81:function(t,e,a){}});
//# sourceMappingURL=app.b93beadd.js.map